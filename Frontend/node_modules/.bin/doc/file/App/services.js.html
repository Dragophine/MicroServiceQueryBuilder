<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../">
  <title data-ice="title">App/services.js | API Document</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  
  
  <script src="script/manual.js"></script>
</head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  </ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">App/services.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">angular.module(&apos;queryBuilder.services&apos;, [&apos;ngCookies&apos;])
/**
   * This service provides the actual server location.
   * 
   * @version 1.0.0
   */
.service(&apos;$serverRestLocation&apos;,  function() {
    var serverRestLocation = &quot;http://localhost:8080&quot;;

    this.getValue = function() {
        return serverRestLocation;
    };
})
/**
   * This servicesprovides all possible requests to the application.
   * 
   * @version 1.0.0
   */
.service(&apos;$requests&apos;, [&apos;$serverRestLocation&apos;, &apos;$http&apos;, function($serverRestLocation, $http) {
    //execute query
    this.getResultFromQuery = function($query, $params, $callback) {
        $http({
            method : &apos;POST&apos;,
            url : $serverRestLocation.getValue() + &apos;/expertqueries/execute&apos;, 
            headers: {  &apos;Content-Type&apos;:&apos;application/json&apos;},
            data: { 
              &quot;query&quot; : $query,
              &quot;parameter&quot; :  $params }
        })
        .success(function(data, status) {
            console.log(data);
            if($callback !== undefined){
            $callback(true, data, status);
            }
        })
        .error(function(data, status) {
            console.log(data);
            if($callback !== undefined){
           $callback(false, data, status);
            }
        });
    };

    /**
     * Execute Query with Querybuilder.
     * It should return the table or an error message.
     * 
     * @param {Object} $query - the query which should be executed.
     * @param {function($success: number, $data: string, $status: number)} $callback - 
     *            This function is called after the execution in order to send data and the status t
     *              to the calling function.
     */
    this.getResultFromQueryQueryBuilder = function($query, $callback) {
        $http({
            method : &apos;POST&apos;,
            url : $serverRestLocation.getValue() + &apos;/queryBuilder/execute&apos;, 
            headers: {  &apos;Content-Type&apos;:&apos;application/json&apos;},
            data:      $query
        })
        .success(function(data, status) {
            console.log(data);
            if($callback !== undefined){
            $callback(true, data, status);
            }
        })
        .error(function(data, status) {
            console.log(data);
            if($callback !== undefined){
           $callback(false, data, status);
            }
        });
    };

     /**
     * This method should return the query in cypher.
     * It can be used to convert a query in the querybuilder
     * from the internal representation to cypher.
     *
     * @param {Object} $query - the query which should be converted.
     * @param {function($success: number, $data: string, $status: number)} $callback - 
     *            This function is called after the execution in order to send data and the status 
     *              to the calling function.
     */
    this.getQueryFromQueryQueryBuilder = function($query, $callback) {
        $http({
            method : &apos;POST&apos;,
            url : $serverRestLocation.getValue() + &apos;/queryBuilder/queryString&apos;, 
            headers: {  &apos;Content-Type&apos;:&apos;application/json&apos;},
            data:      $query
        })
        .success(function(data, status) {
            console.log(data);
            if($callback !== undefined){
            $callback(true, data, status);
            }
        })
        .error(function(data, status) {
            console.log(data);
            if($callback !== undefined){
           $callback(false, data, status);
            }
        });
    };



    this.register = function($user,  $callback) {  
        $http({
            method : &apos;POST&apos;,
            url : $serverRestLocation.getValue()+ &apos;/user/&apos;, 
            headers: {  &apos;Content-Type&apos;:&apos;application/json&apos;,
        },
            data: { 
                email : $user.email,
                password : $user.password,
                firstName : $user.firstName,
                lastName : $user.lastName}
        })
        .success(function(data, status) {
            $callback(true, data, status); 
        })
        .error(function(data, status) {
            $callback(false, data, status);
        });
        };


    /**
     * This method should return all nodes in the database.
     *
     * @param {function($success: number, $data: string, $status: number)} $callback - 
     *            This function is called after the execution in order to send data and the status 
     *              to the calling function.
     */
    this.getNodes = function($callback) {
        $http({
            method : &apos;GET&apos;,
            url : $serverRestLocation.getValue() + &apos;/nodetypes&apos;, 
            headers: { 
                    &apos;Content-Type&apos;:&apos;application/json&apos;
            }
        })
        .success(function(data, status) {
            $callback(true, data, status); 
        })
        .error(function(data, status) {
            $callback(false, data, status);
        });
    };

    /**
     * This method should return all keys (attribute names) for a certain node (as label)
     * from the database.
     *
     * @param {string} $label -  The name of the node.
     * @param {function($success: number, $data: string, $status: number)} $callback - 
     *            This function is called after the execution in order to send data and the status 
     *              to the calling function.
     */
    this.getKeys = function($label, $callback) {
        $http({
            method : &apos;GET&apos;,
            url : $serverRestLocation.getValue() + &apos;/nodetypes/&apos; + $label + &apos;/keys&apos;, 
            headers: { 
                    &apos;Content-Type&apos;:&apos;application/json&apos;
            }
        })
        .success(function(data, status) {
            $callback(true, data, status); 
        })
        .error(function(data, status) {
            $callback(false, data, status);
        });
    };

     /**
     * This method should return all keys (attribute names) for a certain relationship (as label)
     * from the database.
     *
     * @param {string} $label -  The name of the relationship.
     * @param {function($success: number, $data: string, $status: number)} $callback - 
     *            This function is called after the execution in order to send data and the status 
     *              to the calling function.
     */
    this.getRelationshipKeys = function($label, $callback) {
        $http({
            method : &apos;GET&apos;,
            url : $serverRestLocation.getValue() + &apos;/relationshiptypes/&apos; + $label + &apos;/keys&apos;, 
            headers: { 
                    &apos;Content-Type&apos;:&apos;application/json&apos;
            }
        })
        .success(function(data, status) {
            $callback(true, data, status); 
        })
        .error(function(data, status) {
            $callback(false, data, status);
        });
    };
    
      /**
     * This method returns all relationships with their corresponding nodes for 
     * a certain node (as $label).
     *
     * @param {string} $label -  The name of the node.
     * @param {function($success: number, $data: string, $status: number)} $callback - 
     *            This function is called after the execution in order to send data and the status 
     *              to the calling function.
     */
    this.getRelationsWithNodes = function($label, $callback) {
        $http({
            method : &apos;GET&apos;,
            url : $serverRestLocation.getValue()+ &apos;/nodetypes/&apos;+ $label + &apos;/relations/&apos;, 
            headers: { 
                    &apos;Content-Type&apos;:&apos;application/json&apos;
            }
        })
        .success(function(data, status) {
            $callback(true, data, status); 
        })
        .error(function(data, status) {
            $callback(false, data, status);
        });
    };

    /**
     * This method saves a query from the expert mode. 
     * Only new queries can be saved.
     *
     * @param {String} $query - the query which should be saved.
     * @param {Array} $params - the parameters for the query.
     * @param {String} $name - the entered name for the query.
     * @param {String} $description - the entered description for the query.
     * @param {String} $category - the selected category for the query.
     * @param {function($success: number, $data: string, $status: number)} $callback - 
     *            This function is called after the execution in order to send data and the status 
     *              to the calling function.
     */
    this.saveQuery = function($query, $params, $name, $description, $category, $callback) {
        console.log($category);
        $http({
            method : &apos;POST&apos;,
            url : $serverRestLocation.getValue() + &apos;/expertqueries&apos;, 
            headers: {  &apos;Content-Type&apos;:&apos;application/json&apos;},
            data: { 
              &quot;query&quot; : $query,
              &quot;parameter&quot; :  $params,
                &quot;name&quot; : $name,
                &quot;description&quot; : $description,
                &quot;category&quot; : $category }
        })
        .success(function(data, status) {
            console.log(data);
            if($callback !== undefined){
            $callback(true, data, status);
            }
        })
        .error(function(data, status) {
            console.log(data);
            if($callback !== undefined){
           $callback(false, data, status);
            }
        });
    };

    /**
     * This method saves a query from the query builder. 
     * Only new queries can be saved. If an existing should be saved an
     * update needs to be done.
     *
     * @param {Object} $query - the query which should be saved.
     * @param {function($success: number, $data: string, $status: number)} $callback - 
     *            This function is called after the execution in order to send data and the status 
     *              to the calling function.
     */
    this.saveQueryInBuilder = function($query, $callback) {
        $http({
            method : &apos;POST&apos;,
            url : $serverRestLocation.getValue() + &apos;/queryBuilder&apos;, 
            headers: {  &apos;Content-Type&apos;:&apos;application/json&apos;},
            data: $query
        })
        .success(function(data, status) {
            if($callback !== undefined){
                $callback(true, data, status);
            }
        })
        .error(function(data, status) {
            if($callback !== undefined){
                 $callback(false, data, status);
            }
        });
    };

    /**
     * This method updates a query from the query builder.
     * Before one can do an update, the query must be saved first.
     *
     * @param {Object} $query - the query which should be updated.
     * @param {function($success: number, $data: string, $status: number)} $callback - 
     *            This function is called after the execution in order to send data and the status 
     *              to the calling function.
     */
    this.updateQueryInBuilder = function($query, $id, $callback) {
        $http({
            method : &apos;PUT&apos;,
            url : $serverRestLocation.getValue() + &apos;/queryBuilder/&apos; + $id, 
            headers: {  &apos;Content-Type&apos;:&apos;application/json&apos;},
            data: $query
        })
        .success(function(data, status) {
            if($callback !== undefined){
                $callback(true, data, status);
            }
        })
        .error(function(data, status) {
            if($callback !== undefined){
                 $callback(false, data, status);
            }
        });
    };
    
    
    /**
     * This method deletes a query from the expert mode. 
     *
     * @param {String} $query - the query which should be deleted.
     * @param {Array} $params - the parameters for the query.
     * @param {String} $name - the entered name for the query.
     * @param {String} $description - the entered description for the query.
     * @param {String} $category - the selected category for the query.
     * @param {function($success: number, $data: string, $status: number)} $callback - 
     *            This function is called after the execution in order to send data and the status 
     *              to the calling function.
     */
    this.deleteQuery = function($query, $params, $name, $description, $category, $callback) {
        $http({
            method : &apos;DELETE&apos;,
            url : $serverRestLocation.getValue() + &apos;/expertqueries/&apos; + $name, 
            headers: {  &apos;Content-Type&apos;:&apos;application/json&apos;},
            data: { 
              &quot;query&quot; : $query,
              &quot;parameter&quot; :  $params,
                &quot;name&quot; : $name,
                &quot;description&quot; : $description,
                &quot;category&quot; : $category }
        })
        .success(function(data, status) {
            console.log(data);
            if($callback !== undefined){
            $callback(true, data, status);
            }
        })
        .error(function(data, status) {
            console.log(data);
            if($callback !== undefined){
           $callback(false, data, status);
            }
        });
    };    

    /**
     * This method deletes a query from the query builder.
     * The query is referenced by the id.
     *
     * @param {number} $id - the id of the query which should be deleted.
     * @param {function($success: number, $data: string, $status: number)} $callback - 
     *            This function is called after the execution in order to send data and the status 
     *              to the calling function.
     */
     this.deleteQueryInBuilder = function( $id, $callback) {
       $http({
            method : &apos;DELETE&apos;,
            url : $serverRestLocation.getValue() + &apos;/queryBuilder/&apos; + $id, 
            headers: {  &apos;Content-Type&apos;:&apos;application/json&apos;}
        })
        .success(function(data, status) {
            if($callback !== undefined){
                $callback(true, data, status);
            }
        })
        .error(function(data, status) {
            if($callback !== undefined){
                 $callback(false, data, status);
            }
        });
    };    
    
    /**
     * This method load all queries. 
     *
     * @param {function($success: number, $data: string, $status: number)} $callback - 
     *            This function is called after the execution in order to send data and the status 
     *              to the calling function.
     */
    this.loadAllQueries = function($callback) {
        $http({
            method : &apos;GET&apos;,
            url : $serverRestLocation.getValue() + &apos;/expertqueries&apos;, 
            headers: { 
                    &apos;Content-Type&apos;:&apos;application/json&apos;
            }
        })
        .success(function(data, status) {
            $callback(true, data, status); 
        })
        .error(function(data, status) {
            $callback(false, data, status);
        });
    };

    /**
     * This method loads all saved query builder queries from the database .
     *
     * @param {function($success: number, $data: string, $status: number)} $callback - 
     *            This function is called after the execution in order to send data and the status 
     *              to the calling function.
     */
    this.loadAllQueriesInBuilder = function($callback) {
        $http({
            method : &apos;GET&apos;,
            url : $serverRestLocation.getValue() + &apos;/queryBuilder&apos;, 
            headers: { 
                    &apos;Content-Type&apos;:&apos;application/json&apos;
            }
        })
        .success(function(data, status) {
            $callback(true, data, status); 
        })
        .error(function(data, status) {
            $callback(false, data, status);
        });
    };

      /**
     * This method filters the query builder queries which are saved in the database.
     * One can filter the attributes by name, category and description.
     *
     * @param {function($success: number, $data: string, $status: number)} $callback - 
     *            This function is called after the execution in order to send data and the status 
     *              to the calling function.
     */
    this.loadSomeQueriesInBuilder = function($callback, $name, $category, $description) {
        var filter = &quot;?&quot;;
        if($name !== null &amp;&amp; $name !== undefined &amp;&amp; $name !== &quot;&quot;){
            filter = filter + &quot;name=&quot; + $name;
        }
        if($category !== null &amp;&amp; $category !== undefined &amp;&amp; $category !== &quot;&quot;){
            if(filter !== &quot;?&quot;){
                 filter = filter + &quot;&amp;&quot;;
            }
            filter = filter + &quot;category=&quot; + $category;
        }
        if($description !== null &amp;&amp; $description !== undefined &amp;&amp; $description !== &quot;&quot;){
            if(filter !== &quot;?&quot;){
                 filter = filter + &quot;&amp;&quot;;
            }
            filter = filter + &quot;description=&quot; + $description;
        }
        if(filter != &quot;?&quot;){
            $http({
                method : &apos;GET&apos;,
                url : $serverRestLocation.getValue() + &apos;/queryBuilder&apos; + filter, 
                headers: { 
                        &apos;Content-Type&apos;:&apos;application/json&apos;
                }
            })
            .success(function(data, status) {
                $callback(true, data, status); 
            })
            .error(function(data, status) {
                $callback(false, data, status);
            });
        }
        else{
            this.loadAllQueriesInBuilder($callback);
        }
       
    };
    
    /**
     * This method returns the query object for a specific query name. 
     *
     * @param {String} $name - the entered name for the query.
     * @param {function($success: number, $data: string, $status: number)} $callback - 
     *            This function is called after the execution in order to send data and the status 
     *              to the calling function.
     */
    this.getQueryByName = function($name, $callback) {
        $http({
            method : &apos;GET&apos;,
            url : $serverRestLocation.getValue() + &apos;/expertqueries/&apos; + $name,
            headers: { 
                    &apos;Content-Type&apos;:&apos;application/json&apos;
            },
            data: { 
                &quot;name&quot; : $name
              }
        })
        .success(function(data, status) {
            $callback(true, data, status); 
        })
        .error(function(data, status) {
            $callback(false, data, status);
        });
    };
    
    /**
     * This method returns all existing query names. 
     *
     * @param {function($success: number, $data: string, $status: number)} $callback - 
     *            This function is called after the execution in order to send data and the status 
     *              to the calling function.
     */
    this.getAllAlertNames = function($callback) {
        $http({
            method : &apos;GET&apos;,
            url : $serverRestLocation.getValue() + &apos;/alerts&apos;, 
            headers: { 
                    &apos;Content-Type&apos;:&apos;application/json&apos;
            }
        })
        .success(function(data, status) {
            $callback(true, data, status); 
        })
        .error(function(data, status) {
            $callback(false, data, status);
        });
    };
    
    /**
     * This method creates a new alert. 
     *
     * @param {String} $name - the entered name for the alert.
     * @param {String} $selectedQuery - the selected query for the alert.
     * @param {String} $type - the selected type for the alert.
     * Examples: int, string,...
     * @param {String} $filterType - the selected filter type for the alert.
     * Examples: in, like,...
     * @param {String} $email - the entered email address for the alert.
     * @param {String} $value - the entered limit value for the alert.
     * @param {function($success: number, $data: string, $status: number)} $callback - 
     *            This function is called after the execution in order to send data and the status 
     *              to the calling function.
     */
    this.addAlert = function($name, $selectedQuery, $type, $filterType,
    		$email, $value, $callback) {
        $http({
            method : &apos;POST&apos;,
            url : $serverRestLocation.getValue() + &apos;/alerts&apos;, 
            headers: {  &apos;Content-Type&apos;:&apos;application/json&apos;},
            data: { 
              &quot;name&quot; : $name,
              &quot;query&quot; :  $selectedQuery,
              &quot;type&quot; : $type,
              &quot;filterType&quot; : $filterType,
              &quot;value&quot; : $value,
              &quot;email&quot; : $email }
        })
        .success(function(data, status) {
            console.log(data);
            if($callback !== undefined){
            $callback(true, data, status);
            }
        })
        .error(function(data, status) {
            console.log(data);
            if($callback !== undefined){
           $callback(false, data, status);
            }
        });
    };
    
    /**
     * This method saves a existing alert. 
     *
     * @param {String} $existingName - the name from overridden alert.
     * @param {String} $name - the entered name for the alert.
     * @param {String} $selectedQuery - the selected query for the alert.
     * @param {String} $type - the selected type for the alert.
     * Examples: int, string,...
     * @param {String} $filterType - the selected filter type for the alert.
     * Examples: in, like,...
     * @param {String} $email - the entered email address for the alert.
     * @param {String} $value - the entered limit value for the alert.
     * @param {function($success: number, $data: string, $status: number)} $callback - 
     *            This function is called after the execution in order to send data and the status 
     *              to the calling function.
     */
    this.saveAlert = function($existingName, $name, $selectedQuery, $type, $filterType,
    		$email, $value, $callback) {
        $http({
            method : &apos;PUT&apos;,
            url : $serverRestLocation.getValue() + &apos;/alerts/&apos; + $existingName, 
            headers: {  &apos;Content-Type&apos;:&apos;application/json&apos;},
            data: { 
              &quot;name&quot; : $name,
              &quot;query&quot; :  $selectedQuery,
              &quot;type&quot; : $type,
              &quot;filterType&quot; : $filterType,
              &quot;value&quot; : $value,
              &quot;email&quot; : $email }
        })
        .success(function(data, status) {
            console.log(data);
            if($callback !== undefined){
            $callback(true, data, status);
            }
        })
        .error(function(data, status) {
            console.log(data);
            if($callback !== undefined){
           $callback(false, data, status);
            }
        });
    };
    
    /**
     * This method deletes a existing alert. 
     *
     * @param {String} $name - the entered name for the alert.
     * @param {function($success: number, $data: string, $status: number)} $callback - 
     *            This function is called after the execution in order to send data and the status 
     *              to the calling function.
     */
    this.deleteAlert = function($name, $callback) {
        $http({
            method : &apos;DELETE&apos;,
            url : $serverRestLocation.getValue() + &apos;/alerts/&apos; + $name, 
            headers: {  &apos;Content-Type&apos;:&apos;application/json&apos;},
            data: { 
                &quot;name&quot; : $name
                }
        })
        .success(function(data, status) {
            console.log(data);
            if($callback !== undefined){
            $callback(true, data, status);
            }
        })
        .error(function(data, status) {
            console.log(data);
            if($callback !== undefined){
           $callback(false, data, status);
            }
        });
    };
        
    /**
     * This method executes a existing alert. 
     *
     * @param {String} $name - the entered name for the alert.
     * @param {function($success: number, $data: string, $status: number)} $callback - 
     *            This function is called after the execution in order to send data and the status 
     *              to the calling function.
     */
    this.executeAlert = function($name, $callback) {
        $http({
            method : &apos;GET&apos;,
            url : $serverRestLocation.getValue() + &apos;/alerts/&apos; + $name + &apos;/execute&apos;, 
            headers: {  &apos;Content-Type&apos;:&apos;application/json&apos;},
            data: { 
                &quot;name&quot; : $name
                }
        })
        .success(function(data, status) {
            console.log(data);
            if($callback !== undefined){
            $callback(true, data, status);
            }
        })
        .error(function(data, status) {
            console.log(data);
            if($callback !== undefined){
           $callback(false, data, status);
            }
        });
    };   

    /**
     * This method gets all existing categories.
     *
     * @param {function($success: number, $data: string, $status: number)} $callback - 
     *            This function is called after the execution in order to send data and the status 
     *              to the calling function.
     */
    this.getAllCategories = function($callback) {
        $http({
            method : &apos;GET&apos;,
            url : $serverRestLocation.getValue() + &apos;/categories&apos;, 
            headers: { 
                    &apos;Content-Type&apos;:&apos;application/json&apos;
            }
        })
        .success(function(data, status) {
            $callback(true, data, status); 
        })
        .error(function(data, status) {
            $callback(false, data, status);
        });
    };   

    /**
     * This method adds a new category.
     *
     * @param {string} $name -  The name of the category.
     * @param {string} $description -  The description of the category.
     * @param {function($success: number, $data: string, $status: number)} $callback - 
     *            This function is called after the execution in order to send data and the status 
     *              to the calling function.
     */
    this.addCategory = function($name, $description, $callback) {
        $http({
            method : &apos;POST&apos;,
            url : $serverRestLocation.getValue() + &apos;/categories&apos;, 
            headers: {  &apos;Content-Type&apos;:&apos;application/json&apos;},
            data: { 
              &quot;name&quot; : $name,
              &quot;description&quot; :  $description }
        })
        .success(function(data, status) {
            console.log(data);
            if($callback !== undefined){
            $callback(true, data, status);
            }
        })
        .error(function(data, status) {
            console.log(data);
            if($callback !== undefined){
           $callback(false, data, status);
            }
        });
    }; 

        
    /**
     * This method updates a existing category.
     *
     * @param {string} $id -  The id of the category which should be changed.
     * @param {string} $name -  The name of the category.
     * @param {string} $description -  The description of the category.
     * @param {function($success: number, $data: string, $status: number)} $callback - 
     *            This function is called after the execution in order to send data and the status 
     *              to the calling function.
     */
    this.updateCategory = function($id, $name, $description, $callback) {
        $http({
            method : &apos;PUT&apos;,
            url : $serverRestLocation.getValue() + &apos;/categories/&apos; + $id, 
            headers: {  &apos;Content-Type&apos;:&apos;application/json&apos;},
            data: { 
              &quot;name&quot; : $name,
              &quot;description&quot; :  $description }
        })
        .success(function(data, status) {
            console.log(data);
            if($callback !== undefined){
            $callback(true, data, status);
            }
        })
        .error(function(data, status) {
            console.log(data);
            if($callback !== undefined){
           $callback(false, data, status);
            }
        });
    };

    /**
     * This method deletes a existing category.
     *
     * @param {string} $id -  The id of the category which should be deleted.
     * @param {function($success: number, $data: string, $status: number)} $callback - 
     *            This function is called after the execution in order to send data and the status 
     *              to the calling function.
     */
    this.deleteCategory = function($id, $callback) {
        $http({
            method : &apos;DELETE&apos;,
            url : $serverRestLocation.getValue() + &apos;/categories/&apos; + $id, 
            headers: {  &apos;Content-Type&apos;:&apos;application/json&apos;},
            data: { 
                &quot;name&quot; : $id
                }
        })
        .success(function(data, status) {
            console.log(data);
            if($callback !== undefined){
            $callback(true, data, status);
            }
        })
        .error(function(data, status) {
            console.log(data);
            if($callback !== undefined){
           $callback(false, data, status);
            }
        });
    };
    
    
    this.loadSomeQueriesInExpertMode = function($callback, $name, $category, $description) {
        var filter = &quot;?&quot;;
        if($name !== null &amp;&amp; $name !== undefined &amp;&amp; $name !== &quot;&quot;){
            filter = filter + &quot;name=&quot; + $name;
        }
        if($category !== null &amp;&amp; $category !== undefined &amp;&amp; $category !== &quot;&quot;){
            if(filter !== &quot;?&quot;){
                 filter = filter + &quot;&amp;&quot;;
            }
            filter = filter + &quot;category=&quot; + $category;
        }
        if($description !== null &amp;&amp; $description !== undefined &amp;&amp; $description !== &quot;&quot;){
            if(filter !== &quot;?&quot;){
                 filter = filter + &quot;&amp;&quot;;
            }
            filter = filter + &quot;description=&quot; + $description;
        }
        if(filter != &quot;?&quot;){
            $http({
                method : &apos;GET&apos;,
                url : $serverRestLocation.getValue() + &apos;/expertqueries/&apos; + filter, 
                headers: { 
                        &apos;Content-Type&apos;:&apos;application/json&apos;
                }
            })
            .success(function(data, status) {
                $callback(true, data, status); 
            })
            .error(function(data, status) {
                $callback(false, data, status);
            });
        }
        else{
            this.loadAllQueries($callback);
        }
       
    };

    /**
     * This method gets all existing users.
     *
     * @param {function($success: number, $data: string, $status: number)} $callback - 
     *            This function is called after the execution in order to send data and the status 
     *              to the calling function.
     */
    this.getAllUsers = function($callback) {
        $http({
            method : &apos;GET&apos;,
            url : $serverRestLocation.getValue() + &apos;/users&apos;, 
            headers: { 
                    &apos;Content-Type&apos;:&apos;application/json&apos;
            }
        })
        .success(function(data, status) {
            $callback(true, data, status); 
        })
        .error(function(data, status) {
            $callback(false, data, status);
        });
    };


    /**
     * This method gets all existing authorities of a specific user.
     *
     * @param {string} $id -  The id of the user for who the authorities should be returned.
     * @param {function($success: number, $data: string, $status: number)} $callback - 
     *            This function is called after the execution in order to send data and the status 
     *              to the calling function.
     */
    this.getAllAuthorities = function($id, $callback) {
        $http({
            method : &apos;GET&apos;,
            url : $serverRestLocation.getValue() + &apos;/user/&apos;+ $id, 
            headers: { 
                    &apos;Content-Type&apos;:&apos;application/json&apos;
            }
        })
        .success(function(data, status) {
            $callback(true, data, status); 
        })
        .error(function(data, status) {
            $callback(false, data, status);
        });
    };

    /**
     * This method adds a authority to a specific user.
     *
     * @param {string} $email -  The email of the user to who the authorities should be added.
     * @param {string} $authority -  The authority which should be added.
     * @param {function($success: number, $data: string, $status: number)} $callback - 
     *            This function is called after the execution in order to send data and the status 
     *              to the calling function.
     */
    this.addAuthority = function($email, $authority, $callback) {
        $http({
            method : &apos;POST&apos;,
            url : $serverRestLocation.getValue() + &apos;/user/&apos;+ $email+ &apos;/authority&apos;, 
            headers: {  &apos;Content-Type&apos;:&apos;application/json&apos;},
            data: { 
              &quot;authority&quot; : $authority }
        })
        .success(function(data, status) {
            console.log(data);
            if($callback !== undefined){
            $callback(true, data, status);
            }
        })
        .error(function(data, status) {
            console.log(data);
            if($callback !== undefined){
           $callback(false, data, status);
            }
        });
    };  

    /**
     * This method deletes a authority from a specific user.
     *
     * @param {string} $email -  The email of the user from who the authorities should be deleted.
     * @param {string} $authority -  The authority which should be deleted.
     * @param {function($success: number, $data: string, $status: number)} $callback - 
     *            This function is called after the execution in order to send data and the status 
     *              to the calling function.
     */
    this.deleteAuthority = function($email, $authority, $callback) {
        $http({
            method : &apos;DELETE&apos;,
            url : $serverRestLocation.getValue() + &apos;/user/&apos; + $email + &apos;/authority&apos;, 
            headers: {  &apos;Content-Type&apos;:&apos;application/json&apos;},
            data: { 
                &quot;authority&quot; : $authority
                }
        })
        .success(function(data, status) {
            console.log(data);
            if($callback !== undefined){
            $callback(true, data, status);
            }
        })
        .error(function(data, status) {
            console.log(data);
            if($callback !== undefined){
           $callback(false, data, status);
            }
        });
    };   



}]);
</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(0.5.2)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
